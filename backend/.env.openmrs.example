# ═══════════════════════════════════════════════════════
# OPENMRS AUTO-SYNC CONFIGURATION
# ═══════════════════════════════════════════════════════

# Enable/Disable automatic synchronization on server start
OPENMRS_AUTO_START_SYNC=true

# Sync interval in minutes (how often to check for new observations)
# Recommended: 5 minutes for real-time, 15 minutes for less frequent
OPENMRS_SYNC_INTERVAL=5

# Maximum records to fetch per sync (prevents overload)
OPENMRS_MAX_RECORDS=1000

# Enable detailed sync logging (useful for debugging)
OPENMRS_DETAILED_LOGS=true

# Connection pool size per hospital
OPENMRS_POOL_SIZE=10

# Sync timeout in seconds
OPENMRS_SYNC_TIMEOUT=300

# ═══════════════════════════════════════════════════════
# HOSPITAL 1 - EXAMPLE: Central Hospital
# ═══════════════════════════════════════════════════════

# Hospital ID from Patient Passport MongoDB
# Get this by running: db.hospitals.find({}, { _id: 1, name: 1 })
HOSPITAL_1_ID=60a7c2f5e4b0c1a2d3e4f5a6

# Hospital display name (for logging)
HOSPITAL_1_NAME=Central Hospital

# OpenMRS Database Connection
HOSPITAL_1_DB_HOST=localhost
HOSPITAL_1_DB_PORT=3306
HOSPITAL_1_DB_NAME=openmrs

# MySQL Credentials (use read-only user!)
HOSPITAL_1_DB_USER=openmrs_readonly
HOSPITAL_1_DB_PASSWORD=secure_password_here

# Enable/Disable this hospital
HOSPITAL_1_ENABLED=true

# ═══════════════════════════════════════════════════════
# HOSPITAL 2 - EXAMPLE: District Hospital
# ═══════════════════════════════════════════════════════

HOSPITAL_2_ID=60a7c2f5e4b0c1a2d3e4f5a7
HOSPITAL_2_NAME=District Hospital
HOSPITAL_2_DB_HOST=192.168.1.20
HOSPITAL_2_DB_PORT=3306
HOSPITAL_2_DB_NAME=openmrs
HOSPITAL_2_DB_USER=openmrs_readonly
HOSPITAL_2_DB_PASSWORD=secure_password_here
HOSPITAL_2_ENABLED=true

# ═══════════════════════════════════════════════════════
# HOSPITAL 3 - EXAMPLE: Regional Hospital
# ═══════════════════════════════════════════════════════

HOSPITAL_3_ID=60a7c2f5e4b0c1a2d3e4f5a8
HOSPITAL_3_NAME=Regional Hospital
HOSPITAL_3_DB_HOST=192.168.1.30
HOSPITAL_3_DB_PORT=3306
HOSPITAL_3_DB_NAME=openmrs
HOSPITAL_3_DB_USER=openmrs_readonly
HOSPITAL_3_DB_PASSWORD=secure_password_here
HOSPITAL_3_ENABLED=true

# ═══════════════════════════════════════════════════════
# ADD MORE HOSPITALS AS NEEDED
# ═══════════════════════════════════════════════════════

# Copy the pattern above and increment the number
# HOSPITAL_4_ID=...
# HOSPITAL_4_NAME=...
# etc.

# ═══════════════════════════════════════════════════════
# SECURITY NOTES
# ═══════════════════════════════════════════════════════
#
# 1. CREATE READ-ONLY MySQL USER:
#    mysql> CREATE USER 'openmrs_readonly'@'%' IDENTIFIED BY 'password';
#    mysql> GRANT SELECT ON openmrs.* TO 'openmrs_readonly'@'%';
#    mysql> FLUSH PRIVILEGES;
#
# 2. USE STRONG PASSWORDS
#    - Minimum 16 characters
#    - Mix of letters, numbers, symbols
#
# 3. NETWORK SECURITY
#    - Use VPN or private network
#    - Firewall: Only allow Patient Passport server IP
#
# 4. PRODUCTION
#    - Use environment secrets (Azure Key Vault, AWS Secrets Manager)
#    - Enable MySQL SSL/TLS
#    - Rotate credentials quarterly
#
# ═══════════════════════════════════════════════════════
